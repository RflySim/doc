

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Scenes &mdash; RflySimDoc 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Swarm" href="Cluster.html" />
    <link rel="prev" title="1. CopterSim" href="CopterSim.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> RflySimDoc
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../0_Start/WhatIsRflysim.html">1. What is RflySim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../0_Start/GettingStarted.html">2. Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">Modeling</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../1_Modeling/Modeling.html">1. Modeling</a></li>
</ul>
<p class="caption"><span class="caption-text">Experimental Process</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../2_Configuration/Introduction.html">1. Overall Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2_Configuration/SoftwareInstallation.html">2. Software Package Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2_Configuration/HardwareConfiguration.html">3. Hardware Platform Configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">Experimental Platform Usage:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../3_Using/Introduction.html">1. Brief Introduction to Experimental Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_Using/ControllerDesignAndSimulationPlatform.html">2. Simulink-Based Controller Design and Simulation Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_Using/PSPToolbox.html">3. PSP Toolbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_Using/PixhawkHardwareSystem.html">4. Pixhawk Hardware System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_Using/HILSimulator.html">5. HIL Simulation Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_Using/Examples.html">6. Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Platform Advanced Functions:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="CopterSim.html">1. CopterSim</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Scenes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#d-scenes-based-on-ue4">2.1. 3D Scenes Based on UE4</a></li>
<li class="toctree-l2"><a class="reference internal" href="#developing-3d-scenes-through-ue4">2.2. Developing 3D Scenes Through UE4</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Cluster.html">3. Swarm</a></li>
<li class="toctree-l1"><a class="reference internal" href="VisualInterface.html">4. Vision-based Control Interface</a></li>
</ul>
<p class="caption"><span class="caption-text">Download &amp; Support:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../7_DownloadAndSupport/DownloadAndSupport.html">1. Support</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">RflySimDoc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li><span class="section-number">2. </span>Scenes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/4_Pro/Scene.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="scenes">
<h1><span class="section-number">2. </span>Scenes<a class="headerlink" href="#scenes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="d-scenes-based-on-ue4">
<h2><span class="section-number">2.1. </span>3D Scenes Based on UE4<a class="headerlink" href="#d-scenes-based-on-ue4" title="Permalink to this headline">¶</a></h2>
<p>As shown in Fig.A.2c, CopterSim provides an ability to select different display
scenes. The default scene is “3DDisplayprogram”, which is based on a lightweight 3D
engine—Ogre. It has low requirements for computer configurations, but the loading
speed is slow, and the display performance is not realistic enough. As shown in
Fig.A.7, click the drop-down box of “3D Scene Selection” to check all other available
3D scenes (the corresponding installation files are acquired along with the serial
number), including “MountainTerrain” and “NeighborhoodPark”, which are more
realistic 3D scenes based on UE4 3D engine.</p>
<div class="figure align-center" id="id1">
<img alt="../_images/Quan-app1-FigA.7.jpg" src="../_images/Quan-app1-FigA.7.jpg" />
<p class="caption"><span class="caption-text">Fig. A.7 3D scene selection</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>After selecting the corresponding scene,
manually open the corresponding 3D scene software to switch between different 3D
scenes. FigureA.8 presents the 3D UE4 simulation scenes, which have more powerful
functions and more convenient extensibility.</p>
<div class="figure align-center" id="id2">
<img alt="../_images/Quan-app1-FigA.8.jpg" src="../_images/Quan-app1-FigA.8.jpg" />
<p class="caption"><span class="caption-text">Fig. A.8 3D simulation scene based on UE4</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="developing-3d-scenes-through-ue4">
<h2><span class="section-number">2.2. </span>Developing 3D Scenes Through UE4<a class="headerlink" href="#developing-3d-scenes-through-ue4" title="Permalink to this headline">¶</a></h2>
<p>Through the UE4 plugin, readers can quickly build their own flight scenarios in UE4.
The specific procedure is listed as follows.</p>
<p>(1). Create a new UE4 scene project. As shown in Fig.A.9, readers can purchase
or develop a 3D scene project based on UE4 (engine version should be 4.22 or
above, compiler version should be Visual Studio 2017 or above). The detailed
process will be not introduced here because it can be found in the <a class="reference external" href="http://api.unrealengine.com/">official tutorial</a> .</p>
<p>(2). Get the UE4 plugin file. Unzip the “Rfly3DSimPlugin.zip” plugin file (the
corresponding source code can be acquired along with the serial number) and copy
it to the “Plugins” folder (create it manually if the folder does not exist) of the
UE4 project shown in Fig.A.9.</p>
<blockquote>
<div><div class="figure align-center" id="id3">
<img alt="../_images/Quan-app1-FigA.9.jpg" src="../_images/Quan-app1-FigA.9.jpg" />
<p class="caption"><span class="caption-text">Fig. A.9 Custom UE4 3D scene project folder</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p>(3). Generate a “.exe” executable file. Click the UE4 project file ending with
“.uproject” (see Fig.A.9) to open the UE4 editor. As shown in Fig.A.10, the plugin
“Rfly3DSimPlugin” will be automatically loaded to the UE4 project, and the plugin
contents can be viewed in the UI of the UE4 editor. In the UE4 editor, a “.exe”
executable file can be obtained by simply setting the initial viewpoint, compiling
the code, and package the whole project for the Windows environment.</p>
<blockquote>
<div><div class="figure align-center" id="id4">
<img alt="../_images/Quan-app1-FigA.10.jpg" src="../_images/Quan-app1-FigA.10.jpg" />
<p class="caption"><span class="caption-text">Fig. A.10 UE4 editor</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p>(4). Export the map terrain data. Select the terrain file in UE4, exported to a “.png”
format file, and store three key position points to a “.txt” file. Then, copy the
resulting “.png” and “.txt” files to the “CopterSimexternalmap” directory (see
Fig.A.11). Finally, after restarting CopterSim, readers can select the new
developed 3D scene from the drop-down menu shown in Fig.A.7.</p>
<blockquote>
<div><div class="figure align-center" id="id5">
<img alt="../_images/Quan-app1-FigA.11.jpg" src="../_images/Quan-app1-FigA.11.jpg" />
<p class="caption"><span class="caption-text">Fig. A.11 Importing terrain mesh data into CopterSim</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Cluster.html" class="btn btn-neutral float-right" title="3. Swarm" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="CopterSim.html" class="btn btn-neutral float-left" title="1. CopterSim" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Rfly

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>