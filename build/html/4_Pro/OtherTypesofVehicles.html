

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3. Other Types of Vehicles &mdash; RflySimDoc 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Customization of 3D Scenarios" href="Customizationof3DScenarios.html" />
    <link rel="prev" title="2. Basic Features" href="BasicFeatures.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> RflySimDoc
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../0_Start/WhatIsRflysim.html">1. What is RflySim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../0_Start/GettingStarted.html">2. Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">Modeling</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../1_Modeling/Modeling.html">1. Modeling</a></li>
</ul>
<p class="caption"><span class="caption-text">Experimental Process</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../2_Configuration/Introduction.html">1. Overall Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2_Configuration/SoftwareInstallation.html">2. Software Package Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2_Configuration/HardwareConfiguration.html">3. Hardware Platform Configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">Experimental Platform Usage:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../3_Using/Introduction.html">1. Brief Introduction to Experimental Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_Using/ControllerDesignAndSimulationPlatform.html">2. Simulink-Based Controller Design and Simulation Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_Using/PSPToolbox.html">3. PSP Toolbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_Using/PixhawkHardwareSystem.html">4. Pixhawk Hardware System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_Using/HILSimulator.html">5. HIL Simulation Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_Using/Examples.html">6. Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">RflySim Advanced Functions</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="InstallationMethod.html">1. Installation Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="BasicFeatures.html">2. Basic Features</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Other Types of Vehicles</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#other-multicopter-types-e-g-hexacopter">3.1. Other Multicopter Types, e.g. Hexacopter</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hil-simulation-for-other-types-of-multicopters">3.2. HIL Simulation for Other Types of Multicopters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#other-vehicle-types-e-g-fixed-wing-aircraft">3.3. Other Vehicle Types, e.g., Fixed-Wing Aircraft</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hil-simulations-of-other-models">3.4. HIL Simulations of Other Models</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Customizationof3DScenarios.html">4. Customization of 3D Scenarios</a></li>
<li class="toctree-l1"><a class="reference internal" href="UAVSwarmControl.html">5. UAV Swarm Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="UAVVisionAIControl.html">6. UAV Vision/AI Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="FuturePlan.html">7. Future Plan</a></li>
</ul>
<p class="caption"><span class="caption-text">Course</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../5_Course/Book.html">1. Book</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5_Course/CourseContent.html">2. Course Content</a></li>
</ul>
<p class="caption"><span class="caption-text">Cases Study:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../6_CasesStudy/DevelepmentofaSimplifiedAutopilot.html">1. Develepment of a Simplified Autopilot</a></li>
</ul>
<p class="caption"><span class="caption-text">Download &amp; Support:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../7_DownloadAndSupport/DownloadAndSupport.html">1. Support</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">RflySimDoc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li><span class="section-number">3. </span>Other Types of Vehicles</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/4_Pro/OtherTypesofVehicles.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="other-types-of-vehicles">
<h1><span class="section-number">3. </span>Other Types of Vehicles<a class="headerlink" href="#other-types-of-vehicles" title="Permalink to this headline">¶</a></h1>
<div class="section" id="other-multicopter-types-e-g-hexacopter">
<h2><span class="section-number">3.1. </span>Other Multicopter Types, e.g. Hexacopter<a class="headerlink" href="#other-multicopter-types-e-g-hexacopter" title="Permalink to this headline">¶</a></h2>
<p>RflySim also supports to simulate other types of multicopters. You only need to select a desired multicopter configuration in CopterSim, and set Pixhawk to specific multicopter control mode through QGC.</p>
<p>In the following video, we present the procedure to use RflySim to simulate a Hexacopter.</p>
<blockquote>
<div><div class="figure align-center" id="id2">
<a class="reference external image-reference" href="https://youtu.be/bryZXxaJE5M"><img alt="../_images/Advanced7.png" src="../_images/Advanced7.png" /></a>
<p class="caption"><span class="caption-text">RflySim Advance Function: How to simulate other types of multicopters</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p>More detailed setting methods for other types of multicopters are presented below.</p>
</div>
<div class="section" id="hil-simulation-for-other-types-of-multicopters">
<h2><span class="section-number">3.2. </span>HIL Simulation for Other Types of Multicopters<a class="headerlink" href="#hil-simulation-for-other-types-of-multicopters" title="Permalink to this headline">¶</a></h2>
<p>In the previous courses, readers need to set up the Pixhawk autopilot through QGC
to enter the “HIL Quadcopter X” airframe mode. This mode only supports the quadcopter X
configuration, which has strong limitations in practical usage. In addition to
quadcopters, CopterSim can be used to all multicopter types supported by the PX4
autopilot software. The specific steps are presented as follows.</p>
<p>(1). Select a multicopter airframe in QGC</p>
<blockquote>
<div><p>1). Correctly connect the Pixhawk autopilot with the QGC.</p>
<p>2). Select a required multicopter airframe in the “Airframe” tab (see Fig.4.8), such as hexacopters, octocopters, coaxial multicopters, etc.</p>
<p>3). Select a corresponding airframe size from the drop-down list of the airframe (e.g., F450, and 3DR DIY Quad).</p>
<p>4). Confirm that the Pixhawk is in the selected airframe mode applying the airframe and restarting.</p>
</div></blockquote>
<p>Through the above steps, readers can set an airframe type that can be used for
the actual flight with controller parameters matching the airframe size.</p>
<blockquote>
<div><div class="figure align-center" id="id3">
<img alt="../_images/Quan-app1-FigA.12.jpg" src="../_images/Quan-app1-FigA.12.jpg" />
<p class="caption"><span class="caption-text">Fig. 4.8 Choosing a required multicopter airframe in QGC</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p>(2). Set the HIL simulation mode in QGC
As shown in Fig.4.9, after the QGC is properly connected to the Pixhawk
autopilot, in the “Safety” tab of QGC, set the “HITL Enabled” option to
“Enabled” and then re-plug the Pixhawk autopilot. After the above steps, any
airframe can be set to enter the HIL simulation mode.</p>
<blockquote>
<div><div class="figure align-center" id="id4">
<img alt="../_images/Quan-app1-FigA.13.jpg" src="../_images/Quan-app1-FigA.13.jpg" />
<p class="caption"><span class="caption-text">Fig. 4.9 Setting “HITL Enabled” option to “Enabled”</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p>(3). Configure multicopter model in CopterSim
There are two methods to set the multicopter airframe type in CopterSim. The
first method is to select from the “Frame Type” drop-down menu (see Fig.4.10a)
on the CopterSim UI; the other method is to open the “Model Parameters” dialog
to set the number of arms, the number of rotors, and the head orientation.</p>
<blockquote>
<div><div class="figure align-center" id="id5">
<img alt="../_images/Quan-app1-FigA.14.jpg" src="../_images/Quan-app1-FigA.14.jpg" />
<p class="caption"><span class="caption-text">Fig. 4.10 Setting multicopter airframe in CopterSim</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p>(4). Start HIL simulation
Taking a hexacopter as an example, set the Pixhawk airframe type to a general
hexacopter in QGC (see Fig.4.8); enable the HIL mode in QGC (see Fig.4.9);
then, configure hexacopter parameters in CopterSim, as shown in Fig.4.10b.
Next, insert the Pixhawk autopilot into the computer, select the Pixhawk serial
port in CopterSim, and click “Start Simulation” button to start the HIL simulation
for the hexacopter.</p>
</div>
<div class="section" id="other-vehicle-types-e-g-fixed-wing-aircraft">
<h2><span class="section-number">3.3. </span>Other Vehicle Types, e.g., Fixed-Wing Aircraft<a class="headerlink" href="#other-vehicle-types-e-g-fixed-wing-aircraft" title="Permalink to this headline">¶</a></h2>
<p>RflySim also supports to convert any vehicle model in Simulink to a DLL model file, and imports it to CopterSim to perform HIL simulation. In the following video, we present the procedure to convert the Simulink model of a fixed-wing aircraft to Coptersim for hardware-in-the-loop simulation.</p>
<blockquote>
<div><div class="figure align-center" id="id6">
<a class="reference external image-reference" href="https://youtu.be/bryZXxaJE5M"><img alt="../_images/Advanced8.png" src="../_images/Advanced8.png" /></a>
<p class="caption"><span class="caption-text">RflySim Advance Function: How to simulate other types of multicopters</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p>More detailed setting methods for other types of vehicles are presented below.</p>
</div>
<div class="section" id="hil-simulations-of-other-models">
<h2><span class="section-number">3.4. </span>HIL Simulations of Other Models<a class="headerlink" href="#hil-simulations-of-other-models" title="Permalink to this headline">¶</a></h2>
<p>As shown in Fig.4.8, a Pixhawk autopilot supports not only multicopters, but
also fixed-wing aircraft, vertical take-off and landing aircraft, rovers, boats, and
other types of vehicle. To support all vehicle types supported by Pixhawk autopilots,
CopterSim also provides an interface to import the Simulink model as DLL model
files to perform HIL simulations.</p>
<p>(1). Use DLL model files in CopterSim
As shown in Fig.4.11a, copy the DLL model file generated by Simulink to the
folder “CopterSimexternalmodel”. After re-opening the CopterSim, readers
can see all available DLL model files in the “Use DLL Model” drop-down list
in Fig.4.11b. These DLL model files can be used to simulate any aircraft or
vehicles. Select a DLL model, configure the Pixhawk autopilot to the desired
airframe in QGC, and finally start HIL simulation in CopterSim.</p>
<blockquote>
<div><div class="figure align-center" id="id7">
<img alt="../_images/Quan-app1-FigA.15.jpg" src="../_images/Quan-app1-FigA.15.jpg" />
<p class="caption"><span class="caption-text">Fig. 4.11 Select DLL model for simulation</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p>(2). Method to generate DLL model file in Simulink
As shown in Fig.4.12, open the Simulink source code folder “MulticopterModel”
(obtained with the serial number), and open the desired “.slx” Simulink
file (multicopter, aircraft, etc.) in it. Then, modify the model parameters or replace
some of the modules in Simulink to meet the simulation model requirements.
Next, click the “compile” button in Simulink to generate C/C++ code. Finally,
run the “GenarateModelDLLFile” command in MATLAB to generate the DLL
model file in “.dll” format and copy it to the folder shown in Fig.4.11.</p>
<blockquote>
<div><div class="figure align-center" id="id8">
<img alt="../_images/Quan-app1-FigA.16.jpg" src="../_images/Quan-app1-FigA.16.jpg" />
<p class="caption"><span class="caption-text">Fig. 4.12 Simulink source code to generate DLL model file</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p>Since Simulink uses modular programming methods, in the provided “.slx” file,
it is easy to obtain different vehicle configurations by changing parameters or some
modules. For example, the multicopter types presented in Fig.4.12 can be easily
applied by modifying the airframe type parameter ModelParam_uavType in the
“Init.m” initialization script (see Fig.4.13) to a corresponding value. The default
multicopter configuration of the previous experiment was uavType = 3, which is the
conventional X-shaped quadcopter. <a class="footnote-reference brackets" href="#f1" id="id1">1</a></p>
<blockquote>
<div><div class="figure align-center" id="id9">
<img alt="../_images/Quan-app1-FigA.17.jpg" src="../_images/Quan-app1-FigA.17.jpg" />
<p class="caption"><span class="caption-text">Fig. 4.13 Model corresponding to uavType parameter in Simulink model</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p class="rubric">Notes</p>
<dl class="footnote brackets">
<dt class="label" id="f1"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>These configurations correspond to the multicopter models supported by the PX4 autopilot. Readers can refer to the official website: <a class="reference external" href="http://dev.px4.io/master/en/airframes/airframe_reference.html">http://dev.px4.io/master/en/airframes/airframe_reference.html</a>.</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Customizationof3DScenarios.html" class="btn btn-neutral float-right" title="4. Customization of 3D Scenarios" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="BasicFeatures.html" class="btn btn-neutral float-left" title="2. Basic Features" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Rfly

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>